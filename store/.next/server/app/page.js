(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2650:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=t(482),a=t(9108),n=t(2563),o=t.n(n),l=t(8300),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(r,i);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,751)),"/Users/mocky700/Desktop/デミセル/store/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2917)),"/Users/mocky700/Desktop/デミセル/store/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/mocky700/Desktop/デミセル/store/app/page.tsx"],u="/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4223:(e,r,t)=>{Promise.resolve().then(t.bind(t,9873))},6789:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(2295);function a(){return s.jsx("div",{className:"flex justify-center items-center min-h-52",children:s.jsx("div",{className:"w-10 h-10 border-4 border-gray-200 border-t-store rounded-full animate-spin"})})}},9873:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>e7});var s,a,n=t(2295),o=t(3729),l=t.t(o,2),i=t(2829);async function c(){try{let{data:{user:e},error:r}=await i.O.auth.getUser();if(r)return console.error("Error getting user:",r),null;return e}catch(e){return console.error("Error getting user:",e),null}}async function d(){try{let{error:e}=await i.O.auth.signOut();if(e)throw console.error("Error signing out:",e),e}catch(e){throw console.error("Error signing out:",e),e}}async function u(e,r){try{let{data:t,error:s}=await i.O.auth.signInWithPassword({email:e,password:r});if(s)throw s;return t}catch(e){throw console.error("Error signing in:",e),e}}async function p(e,r){try{let{data:t,error:s}=await i.O.auth.signUp({email:e,password:r});if(s)throw s;return t}catch(e){throw console.error("Error signing up:",e),e}}async function m(){try{let{data:e,error:r}=await i.O.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(r)throw r;return e}catch(e){throw console.error("Error signing in with Google:",e),e}}function x(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}var g=Symbol.for("react.lazy"),h=l[" use ".trim().toString()];function f(e){var r;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===g&&"_payload"in e&&"object"==typeof(r=e._payload)&&null!==r&&"then"in r}var b=function(e){let r=function(e){let r=o.forwardRef((e,r)=>{let{children:t,...s}=e;if(f(t)&&"function"==typeof h&&(t=h(t._payload)),o.isValidElement(t)){var a;let e,n;let l=(a=t,(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.ref:(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.props.ref:a.props.ref||a.ref),i=function(e,r){let t={...r};for(let s in r){let a=e[s],n=r[s];/^on[A-Z]/.test(s)?a&&n?t[s]=(...e)=>{let r=n(...e);return a(...e),r}:a&&(t[s]=a):"style"===s?t[s]={...a,...n}:"className"===s&&(t[s]=[a,n].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props);return t.type!==o.Fragment&&(i.ref=r?function(...e){return r=>{let t=!1,s=e.map(e=>{let s=x(e,r);return t||"function"!=typeof s||(t=!0),s});if(t)return()=>{for(let r=0;r<s.length;r++){let t=s[r];"function"==typeof t?t():x(e[r],null)}}}}(r,l):l),o.cloneElement(t,i)}return o.Children.count(t)>1?o.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=o.forwardRef((e,t)=>{let{children:s,...a}=e;f(s)&&"function"==typeof h&&(s=h(s._payload));let l=o.Children.toArray(s),i=l.find(v);if(i){let e=i.props.children,s=l.map(r=>r!==i?r:o.Children.count(e)>1?o.Children.only(null):o.isValidElement(e)?e.props.children:null);return(0,n.jsx)(r,{...a,ref:t,children:o.isValidElement(e)?o.cloneElement(e,void 0,s):null})}return(0,n.jsx)(r,{...a,ref:t,children:s})});return t.displayName=`${e}.Slot`,t}("Slot"),y=Symbol("radix.slottable");function v(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===y}function j(){for(var e,r,t=0,s="",a=arguments.length;t<a;t++)(e=arguments[t])&&(r=function e(r){var t,s,a="";if("string"==typeof r||"number"==typeof r)a+=r;else if("object"==typeof r){if(Array.isArray(r)){var n=r.length;for(t=0;t<n;t++)r[t]&&(s=e(r[t]))&&(a&&(a+=" "),a+=s)}else for(s in r)r[s]&&(a&&(a+=" "),a+=s)}return a}(e))&&(s&&(s+=" "),s+=r);return s}let w=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,N=e=>{let r=z(e),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:e=>{let t=e.split("-");return""===t[0]&&1!==t.length&&t.shift(),k(t,r)||C(e)},getConflictingClassGroupIds:(e,r)=>{let a=t[e]||[];return r&&s[e]?[...a,...s[e]]:a}}},k=(e,r)=>{if(0===e.length)return r.classGroupId;let t=e[0],s=r.nextPart.get(t),a=s?k(e.slice(1),s):void 0;if(a)return a;if(0===r.validators.length)return;let n=e.join("-");return r.validators.find(({validator:e})=>e(n))?.classGroupId},_=/^\[(.+)\]$/,C=e=>{if(_.test(e)){let r=_.exec(e)[1],t=r?.substring(0,r.indexOf(":"));if(t)return"arbitrary.."+t}},z=e=>{let{theme:r,prefix:t}=e,s={nextPart:new Map,validators:[]};return $(Object.entries(e.classGroups),t).forEach(([e,t])=>{S(t,s,e,r)}),s},S=(e,r,t,s)=>{e.forEach(e=>{if("string"==typeof e){(""===e?r:D(r,e)).classGroupId=t;return}if("function"==typeof e){if(I(e)){S(e(s),r,t,s);return}r.validators.push({validator:e,classGroupId:t});return}Object.entries(e).forEach(([e,a])=>{S(a,D(r,e),t,s)})})},D=(e,r)=>{let t=e;return r.split("-").forEach(e=>{t.nextPart.has(e)||t.nextPart.set(e,{nextPart:new Map,validators:[]}),t=t.nextPart.get(e)}),t},I=e=>e.isThemeGetter,$=(e,r)=>r?e.map(([e,t])=>[e,t.map(e=>"string"==typeof e?r+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,t])=>[r+e,t])):e)]):e,O=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let r=0,t=new Map,s=new Map,a=(a,n)=>{t.set(a,n),++r>e&&(r=0,s=t,t=new Map)};return{get(e){let r=t.get(e);return void 0!==r?r:void 0!==(r=s.get(e))?(a(e,r),r):void 0},set(e,r){t.has(e)?t.set(e,r):a(e,r)}}},E=e=>{let{separator:r,experimentalParseClassName:t}=e,s=1===r.length,a=r[0],n=r.length,o=e=>{let t;let o=[],l=0,i=0;for(let c=0;c<e.length;c++){let d=e[c];if(0===l){if(d===a&&(s||e.slice(c,c+n)===r)){o.push(e.slice(i,c)),i=c+n;continue}if("/"===d){t=c;continue}}"["===d?l++:"]"===d&&l--}let c=0===o.length?e:e.substring(i),d=c.startsWith("!"),u=d?c.substring(1):c;return{modifiers:o,hasImportantModifier:d,baseClassName:u,maybePostfixModifierPosition:t&&t>i?t-i:void 0}};return t?e=>t({className:e,parseClassName:o}):o},q=e=>{if(e.length<=1)return e;let r=[],t=[];return e.forEach(e=>{"["===e[0]?(r.push(...t.sort(),e),t=[]):t.push(e)}),r.push(...t.sort()),r},M=e=>({cache:O(e.cacheSize),parseClassName:E(e),...N(e)}),P=/\s+/,A=(e,r)=>{let{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:a}=r,n=[],o=e.trim().split(P),l="";for(let e=o.length-1;e>=0;e-=1){let r=o[e],{modifiers:i,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=t(r),p=!!u,m=s(p?d.substring(0,u):d);if(!m){if(!p||!(m=s(d))){l=r+(l.length>0?" "+l:l);continue}p=!1}let x=q(i).join(":"),g=c?x+"!":x,h=g+m;if(n.includes(h))continue;n.push(h);let f=a(m,p);for(let e=0;e<f.length;++e){let r=f[e];n.push(g+r)}l=r+(l.length>0?" "+l:l)}return l};function R(){let e,r,t=0,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=L(e))&&(s&&(s+=" "),s+=r);return s}let L=e=>{let r;if("string"==typeof e)return e;let t="";for(let s=0;s<e.length;s++)e[s]&&(r=L(e[s]))&&(t&&(t+=" "),t+=r);return t},T=e=>{let r=r=>r[e]||[];return r.isThemeGetter=!0,r},G=/^\[(?:([a-z-]+):)?(.+)\]$/i,F=/^\d+\/\d+$/,U=new Set(["px","full","screen"]),B=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,H=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,V=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Z=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,J=e=>Y(e)||U.has(e)||F.test(e),X=e=>ed(e,"length",eu),Y=e=>!!e&&!Number.isNaN(Number(e)),K=e=>ed(e,"number",Y),Q=e=>!!e&&Number.isInteger(Number(e)),ee=e=>e.endsWith("%")&&Y(e.slice(0,-1)),er=e=>G.test(e),et=e=>B.test(e),es=new Set(["length","size","percentage"]),ea=e=>ed(e,es,ep),en=e=>ed(e,"position",ep),eo=new Set(["image","url"]),el=e=>ed(e,eo,ex),ei=e=>ed(e,"",em),ec=()=>!0,ed=(e,r,t)=>{let s=G.exec(e);return!!s&&(s[1]?"string"==typeof r?s[1]===r:r.has(s[1]):t(s[2]))},eu=e=>W.test(e)&&!H.test(e),ep=()=>!1,em=e=>V.test(e),ex=e=>Z.test(e);Symbol.toStringTag;let eg=function(e){let r,t,s;let a=function(o){return t=(r=M([].reduce((e,r)=>r(e),e()))).cache.get,s=r.cache.set,a=n,n(o)};function n(e){let a=t(e);if(a)return a;let n=A(e,r);return s(e,n),n}return function(){return a(R.apply(null,arguments))}}(()=>{let e=T("colors"),r=T("spacing"),t=T("blur"),s=T("brightness"),a=T("borderColor"),n=T("borderRadius"),o=T("borderSpacing"),l=T("borderWidth"),i=T("contrast"),c=T("grayscale"),d=T("hueRotate"),u=T("invert"),p=T("gap"),m=T("gradientColorStops"),x=T("gradientColorStopPositions"),g=T("inset"),h=T("margin"),f=T("opacity"),b=T("padding"),y=T("saturate"),v=T("scale"),j=T("sepia"),w=T("skew"),N=T("space"),k=T("translate"),_=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",er,r],S=()=>[er,r],D=()=>["",J,X],I=()=>["auto",Y,er],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],E=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",er],P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[Y,er];return{cacheSize:500,separator:":",theme:{colors:[ec],spacing:[J,X],blur:["none","",et,er],brightness:A(),borderColor:[e],borderRadius:["none","","full",et,er],borderSpacing:S(),borderWidth:D(),contrast:A(),grayscale:M(),hueRotate:A(),invert:M(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[ee,X],inset:z(),margin:z(),opacity:A(),padding:S(),saturate:A(),scale:A(),sepia:M(),skew:A(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",er]}],container:["container"],columns:[{columns:[et]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),er]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Q,er]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",er]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Q,er]}],"grid-cols":[{"grid-cols":[ec]}],"col-start-end":[{col:["auto",{span:["full",Q,er]},er]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[ec]}],"row-start-end":[{row:["auto",{span:[Q,er]},er]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",er]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",er]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[h]}],mx:[{mx:[h]}],my:[{my:[h]}],ms:[{ms:[h]}],me:[{me:[h]}],mt:[{mt:[h]}],mr:[{mr:[h]}],mb:[{mb:[h]}],ml:[{ml:[h]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",er,r]}],"min-w":[{"min-w":[er,r,"min","max","fit"]}],"max-w":[{"max-w":[er,r,"none","full","min","max","fit","prose",{screen:[et]},et]}],h:[{h:[er,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[er,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[er,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[er,r,"auto","min","max","fit"]}],"font-size":[{text:["base",et,X]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",K]}],"font-family":[{font:[ec]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",er]}],"line-clamp":[{"line-clamp":["none",Y,K]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",J,er]}],"list-image":[{"list-image":["none",er]}],"list-style-type":[{list:["none","disc","decimal",er]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[f]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[f]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",J,X]}],"underline-offset":[{"underline-offset":["auto",J,er]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",er]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",er]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[f]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),en]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ea]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},el]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[f]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[f]}],"divide-style":[{divide:O()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[J,er]}],"outline-w":[{outline:[J,X]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[f]}],"ring-offset-w":[{"ring-offset":[J,X]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",et,ei]}],"shadow-color":[{shadow:[ec]}],opacity:[{opacity:[f]}],"mix-blend":[{"mix-blend":[...E(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":E()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[i]}],"drop-shadow":[{"drop-shadow":["","none",et,er]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[i]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[f]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",er]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",er]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",er]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[Q,er]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",er]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",er]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",er]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[J,X,K]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function eh(...e){return eg(j(e))}let ef=(s="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var r;if((null==a?void 0:a.variants)==null)return j(s,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:t,defaultVariants:n}=a,o=Object.keys(t).map(r=>{let s=null==e?void 0:e[r],a=null==n?void 0:n[r];if(null===s)return null;let o=w(s)||w(a);return t[r][o]}),l=e&&Object.entries(e).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return j(s,o,null==a?void 0:null===(r=a.compoundVariants)||void 0===r?void 0:r.reduce((e,r)=>{let{class:t,className:s,...a}=r;return Object.entries(a).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...n,...l}[r]):({...n,...l})[r]===t})?[...e,t,s]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)});function eb({className:e,variant:r,size:t,asChild:s=!1,...a}){return n.jsx(s?b:"button",{"data-slot":"button",className:eh(ef({variant:r,size:t,className:e})),...a})}function ey({className:e,...r}){return n.jsx("div",{"data-slot":"card",className:eh("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function ev({className:e,...r}){return n.jsx("div",{"data-slot":"card-header",className:eh("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function ej({className:e,...r}){return n.jsx("div",{"data-slot":"card-title",className:eh("leading-none font-semibold",e),...r})}function ew({className:e,...r}){return n.jsx("div",{"data-slot":"card-content",className:eh("px-6",e),...r})}function eN(){let[e,r]=(0,o.useState)(!0),[t,s]=(0,o.useState)(""),[a,l]=(0,o.useState)(""),[i,c]=(0,o.useState)(""),[d,x]=(0,o.useState)(!1),g=async r=>{r.preventDefault(),c(""),x(!0);try{e?await u(t,a):await p(t,a)}catch(e){c(e.message||"認証に失敗しました")}finally{x(!1)}},h=async()=>{c(""),x(!0);try{await m()}catch(e){c(e.message||"Google認証に失敗しました"),x(!1)}};return n.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-5 bg-gray-50",children:n.jsx(ey,{className:"w-full max-w-md",children:(0,n.jsxs)(ew,{className:"pt-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-center mb-8 text-gray-800",children:"出店者向けプラットフォーム"}),(0,n.jsxs)("div",{className:"flex mb-5 border-b border-gray-200",children:[n.jsx("button",{onClick:()=>{r(!0),c("")},className:`flex-1 px-3 py-3 text-base transition-colors ${e?"border-b-2 border-store text-store font-bold":"text-gray-600"}`,children:"ログイン"}),n.jsx("button",{onClick:()=>{r(!1),c("")},className:`flex-1 px-3 py-3 text-base transition-colors ${e?"text-gray-600":"border-b-2 border-store text-store font-bold"}`,children:"新規登録"})]}),i&&n.jsx("div",{className:"p-3 mb-5 bg-red-50 text-red-700 rounded text-sm",children:i}),(0,n.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block mb-2 text-sm text-gray-700",children:"メールアドレス"}),n.jsx("input",{type:"email",value:t,onChange:e=>s(e.target.value),required:!0,className:"w-full px-3 py-3 border border-gray-300 rounded text-base focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block mb-2 text-sm text-gray-700",children:"パスワード"}),n.jsx("input",{type:"password",value:a,onChange:e=>l(e.target.value),required:!0,minLength:6,className:"w-full px-3 py-3 border border-gray-300 rounded text-base focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent"})]}),n.jsx(eb,{type:"submit",disabled:d,className:"w-full bg-store hover:bg-store-dark disabled:opacity-50",children:d?"処理中...":e?"ログイン":"新規登録"})]}),n.jsx("div",{className:"text-center my-5 text-gray-400 text-sm",children:"または"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)(eb,{onClick:h,disabled:d,variant:"outline",className:"w-full",children:[n.jsx("span",{className:"mr-2",children:"\uD83D\uDD0D"}),"Googleで",e?"ログイン":"登録"]}),(0,n.jsxs)(eb,{onClick:()=>{c(""),window.location.href="/api/auth/line-login"},disabled:d,className:"w-full bg-[#06C755] hover:bg-[#05A647] text-white",children:[n.jsx("span",{className:"mr-2",children:"\uD83D\uDCAC"}),"LINEで",e?"ログイン":"登録"]})]})]})})})}var ek=t(2254);async function e_(e,r,t){try{let{data:s,error:a}=await i.O.storage.from(e).upload(r,t,{cacheControl:"3600",upsert:!1});if(a)throw a;let{data:n}=i.O.storage.from(e).getPublicUrl(s.path);return n.publicUrl}catch(e){throw console.error("Error uploading image:",e),e}}function eC({currentStep:e,totalSteps:r}){let t=e/r*100;return(0,n.jsxs)("div",{className:"w-full mb-5",children:[n.jsx("div",{className:"w-full h-2 bg-gray-200 rounded overflow-hidden",children:n.jsx("div",{className:"h-full bg-store transition-all duration-300 ease-in-out",style:{width:`${t}%`}})}),(0,n.jsxs)("div",{className:"text-center mt-2 text-sm text-gray-600",children:[e," / ",r]})]})}var ez=t(7983),eS=t.n(ez);function eD({imageUrl:e,documentType:r,onRecognized:t}){let[s,a]=(0,o.useState)(!1),[l,i]=(0,o.useState)(null),[c,d]=(0,o.useState)(""),u=async()=>{if(!e){d("画像が選択されていません");return}a(!0),d(""),i(null);try{let s=await fetch("/api/ocr/recognize-document",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:e,documentType:r})}),a=await s.json();if(!s.ok)throw Error(a.error||"認識に失敗しました");i(a.data),t(a.data)}catch(e){d(e.message||"画像認識に失敗しました")}finally{a(!1)}};return(0,n.jsxs)("div",{style:{marginTop:"12px"},className:"jsx-ff161281ed666c63",children:[n.jsx("button",{onClick:u,disabled:s||!e,style:{padding:"8px 16px",backgroundColor:s?"#ccc":"#5DABA8",color:"white",border:"none",borderRadius:"4px",fontSize:"14px",cursor:s||!e?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},className:"jsx-ff161281ed666c63",children:s?(0,n.jsxs)(n.Fragment,{children:[n.jsx("span",{className:"jsx-ff161281ed666c63",children:"認識中..."}),n.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #fff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"},className:"jsx-ff161281ed666c63"})]}):(0,n.jsxs)(n.Fragment,{children:[n.jsx("span",{className:"jsx-ff161281ed666c63",children:"\uD83D\uDD0D"}),(0,n.jsxs)("span",{className:"jsx-ff161281ed666c63",children:[{businessLicense:"営業許可証",vehicleInspection:"車検証",automobileInspection:"自賠責保険",plInsurance:"PL保険"}[r]||"書類","を認識"]})]})}),c&&n.jsx("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"#fee",color:"#c33",borderRadius:"4px",fontSize:"12px"},className:"jsx-ff161281ed666c63",children:c}),l&&(0,n.jsxs)("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#f0f8ff",borderRadius:"4px",fontSize:"14px"},className:"jsx-ff161281ed666c63",children:[n.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px"},className:"jsx-ff161281ed666c63",children:"認識結果:"}),n.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:"12px",margin:0},className:"jsx-ff161281ed666c63",children:JSON.stringify(l,null,2)})]}),n.jsx(eS(),{id:"ff161281ed666c63",children:"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})}function eI({label:e,value:r,onChange:t,onFileSelect:s,required:a=!1,enableOCR:l=!1,documentType:i,onRecognized:c}){let[d,u]=(0,o.useState)(r||null),[p,m]=(0,o.useState)(!1),x=e=>{let r=e.target.files?.[0];if(!r)return;let t=new FileReader;t.onloadend=()=>{u(t.result)},t.readAsDataURL(r),s(r)};return(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:[e,a&&n.jsx("span",{className:"text-red-600",children:" *"})]}),n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-5 text-center bg-gray-50 hover:bg-gray-100 transition-colors",children:d?(0,n.jsxs)("div",{children:[n.jsx("img",{src:d,alt:"Preview",className:"max-w-full max-h-52 mx-auto mb-3 rounded"}),n.jsx("div",{children:(0,n.jsxs)("label",{className:"inline-block",children:[n.jsx(eb,{type:"button",className:"bg-store hover:bg-store-dark",disabled:p,onClick:r=>{r.preventDefault(),document.getElementById(`file-input-${e}`)?.click()},children:"画像を変更"}),n.jsx("input",{id:`file-input-${e}`,type:"file",accept:"image/*",onChange:x,className:"hidden",disabled:p})]})})]}):(0,n.jsxs)("label",{className:"block cursor-pointer",children:[n.jsx("div",{className:"text-5xl text-gray-400 mb-3",children:"\uD83D\uDCF7"}),n.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"画像を選択"}),n.jsx("div",{className:"text-xs text-gray-400",children:"JPG, PNG, GIF (最大 5MB)"}),n.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"hidden",disabled:p})]})}),p&&n.jsx("div",{className:"mt-3 text-sm text-gray-600",children:"アップロード中..."}),l&&d&&i&&n.jsx(eD,{imageUrl:d,documentType:i,onRecognized:e=>{c&&c(e)}})]})}var e$=t(6789);function eO(){let e=(0,ek.useRouter)(),[r,t]=(0,o.useState)(1),[s,a]=(0,o.useState)(!1),[l,d]=(0,o.useState)(""),[u,p]=(0,o.useState)({name:"",gender:"",age:"",phoneNumber:"",email:"",genreCategory:"",genreFreeText:"",businessLicenseImage:null,vehicleInspectionImage:null,automobileInspectionImage:null,plInsuranceImage:null,fireEquipmentLayoutImage:null});(0,o.useEffect)(()=>{let e=sessionStorage.getItem("exhibitor_draft");if(e)try{let r=JSON.parse(e);p(e=>({...e,...r}))}catch(e){console.error("Failed to load draft:",e)}},[]);let m=()=>{let e={name:u.name,gender:u.gender,age:u.age,phoneNumber:u.phoneNumber,email:u.email,genreCategory:u.genreCategory,genreFreeText:u.genreFreeText};sessionStorage.setItem("exhibitor_draft",JSON.stringify(e))},x=(e,r)=>{p(t=>({...t,[e]:r})),m()},g=(e,r)=>{p(t=>({...t,[e]:r}))},h=()=>u.name&&u.gender&&u.age&&u.phoneNumber&&u.email?!(isNaN(Number(u.age))||0>Number(u.age))||(d("年齢は正の数で入力してください"),!1):(d("すべての必須項目を入力してください"),!1),f=async()=>{d(""),a(!0);try{let r=await c();if(!r)throw Error("認証されていません");let t=[],s={};for(let e of["businessLicenseImage","vehicleInspectionImage","automobileInspectionImage","plInsuranceImage","fireEquipmentLayoutImage"]){let a=u[e];if(a){let n=`exhibitors/${r.id}/${e}_${Date.now()}.${a.name.split(".").pop()}`;t.push(e_("documents",n,a).then(r=>(s[e.replace("Image","ImageUrl")]=r,r)))}}await Promise.all(t);let{error:a}=await i.O.from("exhibitors").insert({user_id:r.id,name:u.name,gender:u.gender,age:parseInt(u.age),phone_number:u.phoneNumber,email:u.email,genre_category:u.genreCategory||null,genre_free_text:u.genreFreeText||null,business_license_image_url:s.businessLicenseImageUrl||null,vehicle_inspection_image_url:s.vehicleInspectionImageUrl||null,automobile_inspection_image_url:s.automobileInspectionImageUrl||null,pl_insurance_image_url:s.plInsuranceImageUrl||null,fire_equipment_layout_image_url:s.fireEquipmentLayoutImageUrl||null});if(a)throw a;sessionStorage.removeItem("exhibitor_draft"),e.push("/")}catch(e){d(e.message||"登録に失敗しました")}finally{a(!1)}};return s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx(e$.Z,{})}):n.jsx("div",{className:"min-h-screen p-5 bg-gray-50",children:n.jsx(ey,{className:"max-w-2xl mx-auto",children:(0,n.jsxs)(ew,{className:"pt-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-5 text-center",children:"出店者情報登録"}),n.jsx(eC,{currentStep:r,totalSteps:3}),l&&n.jsx("div",{className:"p-3 mb-5 bg-red-50 text-red-700 rounded text-sm",children:l}),1===r&&(0,n.jsxs)("div",{children:[n.jsx("h2",{className:"text-lg font-bold mb-5",children:"基本情報"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block mb-2 text-sm font-medium",children:["名前 ",n.jsx("span",{className:"text-red-600",children:"*"})]}),n.jsx("input",{type:"text",value:u.name,onChange:e=>x("name",e.target.value),required:!0,className:"w-full px-3 py-3 border border-gray-300 rounded text-base focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block mb-2 text-sm font-medium",children:["性別 ",n.jsx("span",{className:"text-red-600",children:"*"})]}),(0,n.jsxs)("select",{value:u.gender,onChange:e=>x("gender",e.target.value),required:!0,className:"w-full px-3 py-3 border border-gray-300 rounded text-base focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent",children:[n.jsx("option",{value:"",children:"選択してください"}),n.jsx("option",{value:"男",children:"男"}),n.jsx("option",{value:"女",children:"女"}),n.jsx("option",{value:"それ以外",children:"それ以外"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block mb-2 text-sm font-medium",children:["年齢 ",n.jsx("span",{className:"text-red-600",children:"*"})]}),n.jsx("input",{type:"number",value:u.age,onChange:e=>x("age",e.target.value),required:!0,min:"0",className:"w-full px-3 py-3 border border-gray-300 rounded text-base focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block mb-2 text-sm font-medium",children:["電話番号 ",n.jsx("span",{className:"text-red-600",children:"*"})]}),n.jsx("input",{type:"tel",value:u.phoneNumber,onChange:e=>x("phoneNumber",e.target.value),required:!0,className:"w-full px-3 py-3 border border-gray-300 rounded text-base focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block mb-2 text-sm font-medium",children:["メールアドレス ",n.jsx("span",{className:"text-red-600",children:"*"})]}),n.jsx("input",{type:"email",value:u.email,onChange:e=>x("email",e.target.value),required:!0,className:"w-full px-3 py-3 border border-gray-300 rounded text-base focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium",children:"ジャンル（カテゴリ）"}),n.jsx("input",{type:"text",value:u.genreCategory,onChange:e=>x("genreCategory",e.target.value),placeholder:"例: 飲食、雑貨、アート",className:"w-full px-3 py-3 border border-gray-300 rounded text-base focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium",children:"ジャンル（自由記述）"}),n.jsx("textarea",{value:u.genreFreeText,onChange:e=>x("genreFreeText",e.target.value),placeholder:"ジャンルの詳細を記入してください",rows:4,className:"w-full px-3 py-3 border border-gray-300 rounded text-base focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent resize-none"})]})]})]}),2===r&&(0,n.jsxs)("div",{children:[n.jsx("h2",{className:"text-lg font-bold mb-5",children:"書類アップロード"}),n.jsx(eI,{label:"営業許可証",onFileSelect:e=>g("businessLicenseImage",e),enableOCR:!0,documentType:"businessLicense",onRecognized:e=>{console.log("営業許可証認識結果:",e)}}),n.jsx(eI,{label:"車検証",onFileSelect:e=>g("vehicleInspectionImage",e),enableOCR:!0,documentType:"vehicleInspection",onRecognized:e=>{console.log("車検証認識結果:",e)}}),n.jsx(eI,{label:"自賠責保険",onFileSelect:e=>g("automobileInspectionImage",e),enableOCR:!0,documentType:"automobileInspection",onRecognized:e=>{console.log("自賠責保険認識結果:",e)}}),n.jsx(eI,{label:"PL保険",onFileSelect:e=>g("plInsuranceImage",e),enableOCR:!0,documentType:"plInsurance",onRecognized:e=>{console.log("PL保険認識結果:",e)}}),n.jsx(eI,{label:"消防設備配置図",onFileSelect:e=>g("fireEquipmentLayoutImage",e)})]}),3===r&&(0,n.jsxs)("div",{children:[n.jsx("h2",{className:"text-lg font-bold mb-5",children:"利用規約確認"}),(0,n.jsxs)("div",{className:"p-5 bg-gray-100 rounded-lg mb-5 max-h-96 overflow-y-auto",children:[n.jsx("h3",{className:"text-base font-bold mb-3",children:"利用規約"}),(0,n.jsxs)("div",{className:"text-sm leading-relaxed text-gray-600 space-y-3",children:[n.jsx("p",{children:"本サービスをご利用いただくにあたり、以下の利用規約に同意していただく必要があります。"}),n.jsx("p",{children:"1. 出店者は、提供する情報が正確であることを保証します。"}),n.jsx("p",{children:"2. 出店者は、必要な書類を適切に提出する責任があります。"}),n.jsx("p",{children:"3. 主催者は、出店者の申請を承認または却下する権利を有します。"}),n.jsx("p",{children:"4. 個人情報は適切に管理され、本サービスの目的のみに使用されます。"})]})]}),(0,n.jsxs)("label",{className:"flex items-center mb-5 cursor-pointer",children:[n.jsx("input",{type:"checkbox",required:!0,className:"w-5 h-5 mr-2"}),(0,n.jsxs)("span",{className:"text-sm",children:["利用規約に同意します ",n.jsx("span",{className:"text-red-600",children:"*"})]})]})]}),(0,n.jsxs)("div",{className:"flex gap-3 mt-8",children:[r>1&&n.jsx(eb,{onClick:()=>{d(""),r>1&&t(r-1)},variant:"secondary",className:"flex-1",children:"戻る"}),r<3?n.jsx(eb,{onClick:()=>{d(""),1===r?h()&&t(2):2===r&&t(3)},className:"flex-1 bg-store hover:bg-store-dark",children:"次へ"}):n.jsx(eb,{onClick:f,className:"flex-1 bg-store hover:bg-store-dark",children:"登録する"})]})]})})})}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let eE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),eM=e=>{let r=eq(e);return r.charAt(0).toUpperCase()+r.slice(1)},eP=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim(),eA=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let eL=(0,o.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:n,iconNode:l,...i},c)=>(0,o.createElement)("svg",{ref:c,...eR,width:r,height:r,stroke:e,strokeWidth:s?24*Number(t)/Number(r):t,className:eP("lucide",a),...!n&&!eA(i)&&{"aria-hidden":"true"},...i},[...l.map(([e,r])=>(0,o.createElement)(e,r)),...Array.isArray(n)?n:[n]])),eT=(e,r)=>{let t=(0,o.forwardRef)(({className:t,...s},a)=>(0,o.createElement)(eL,{ref:a,iconNode:r,className:eP(`lucide-${eE(eM(e))}`,`lucide-${e}`,t),...s}));return t.displayName=eM(e),t},eG=eT("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),eF=eT("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),eU=eT("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),eB={pending:{label:"審査中",className:"bg-orange-100 text-orange-800 border-orange-200"},approved:{label:"承認済み",className:"bg-green-100 text-green-800 border-green-200"},rejected:{label:"却下",className:"bg-red-100 text-red-800 border-red-200"},draft:{label:"下書き",className:"bg-gray-100 text-gray-800 border-gray-200"},published:{label:"公開中",className:"bg-blue-100 text-blue-800 border-blue-200"},closed:{label:"終了",className:"bg-gray-100 text-gray-600 border-gray-200"}};function eW({status:e,className:r}){let t=eB[e];return n.jsx("span",{className:eh("inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium",t.className,r),children:t.label})}let eH={store:"hover:border-[#5DABA8]",organizer:"hover:border-[#FF6B35]",admin:"hover:border-[#3B82F6]"};function eV({title:e,date:r,location:t,capacity:s,image:a,status:o,accent:l="store",onClick:i,className:c}){return(0,n.jsxs)(ey,{className:eh("cursor-pointer overflow-hidden rounded-lg transition-all hover:shadow-lg",eH[l],c),onClick:i,children:[a&&n.jsx("div",{className:"aspect-video w-full overflow-hidden bg-gray-100",children:n.jsx("img",{src:a||"/placeholder.svg",alt:e,className:"h-full w-full object-cover"})}),(0,n.jsxs)(ew,{className:"p-4",children:[(0,n.jsxs)("div",{className:"mb-2 flex items-start justify-between gap-2",children:[n.jsx("h3",{className:"text-balance text-lg font-semibold leading-snug",children:e}),o&&n.jsx(eW,{status:o})]}),(0,n.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx(eG,{className:"h-4 w-4"}),n.jsx("span",{children:r})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx(eF,{className:"h-4 w-4"}),n.jsx("span",{children:t})]}),s&&(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx(eU,{className:"h-4 w-4"}),(0,n.jsxs)("span",{children:["募集: ",s,"店舗"]})]})]})]})]})}let eZ=eT("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),eJ=eT("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),eX=eT("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),eY=eT("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function eK(){let e=(0,ek.useRouter)(),[r,t]=(0,o.useState)([]),[s,a]=(0,o.useState)(!0),[l,c]=(0,o.useState)("home"),[d,u]=(0,o.useState)(0);(0,o.useEffect)(()=>{p(),m()},[]);let p=async()=>{try{let{data:e,error:r}=await i.O.from("events").select("*").eq("approval_status","approved").order("event_start_date",{ascending:!0});if(r)throw r;t(e||[])}catch(e){console.error("イベント取得エラー:",e)}finally{a(!1)}},m=async()=>{try{let{data:{user:e}}=await i.O.auth.getUser();if(!e)return;let{count:r,error:t}=await i.O.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("is_read",!1);if(t)throw t;u(r||0)}catch(e){console.error("通知取得エラー:",e)}},x=(e,r)=>{let t=new Date(e),s=new Date(r),a=`${t.getMonth()+1}/${t.getDate()}`,n=`${s.getMonth()+1}/${s.getDate()}`;return`${a} - ${n}`};return s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx("div",{className:"text-gray-600",children:"読み込み中..."})}):(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[n.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:n.jsx("div",{className:"px-4 py-4",children:n.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"イベント一覧"})})}),n.jsx("main",{className:"px-4 py-4",children:0===r.length?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"現在、申し込み可能なイベントはありません"})}):n.jsx("div",{className:"space-y-4",children:r.map(r=>n.jsx(eV,{title:r.event_name,date:x(r.event_start_date,r.event_end_date),location:r.venue_name,capacity:r.recruitment_count||void 0,image:r.main_image_url||void 0,status:r.approval_status,accent:"store",onClick:()=>e.push(`/events/${r.id}`)},r.id))})}),n.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-20",children:(0,n.jsxs)("div",{className:"flex items-center justify-around h-16",children:[(0,n.jsxs)("button",{onClick:()=>c("notifications"),className:eh("flex flex-col items-center justify-center flex-1 h-full transition-colors relative","notifications"===l?"text-store":"text-gray-500"),children:[n.jsx(eZ,{className:"h-6 w-6"}),d>0&&n.jsx("span",{className:"absolute top-2 right-[calc(50%-8px)] bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:d>9?"9+":d}),n.jsx("span",{className:"text-xs mt-1",children:"通知"})]}),(0,n.jsxs)("button",{onClick:()=>c("history"),className:eh("flex flex-col items-center justify-center flex-1 h-full transition-colors","history"===l?"text-store":"text-gray-500"),children:[n.jsx(eJ,{className:"h-6 w-6"}),n.jsx("span",{className:"text-xs mt-1",children:"履歴"})]}),(0,n.jsxs)("button",{onClick:()=>c("search"),className:eh("flex flex-col items-center justify-center flex-1 h-full transition-colors","search"===l?"text-store":"text-gray-500"),children:[n.jsx(eX,{className:"h-6 w-6"}),n.jsx("span",{className:"text-xs mt-1",children:"検索"})]}),(0,n.jsxs)("button",{onClick:()=>c("profile"),className:eh("flex flex-col items-center justify-center flex-1 h-full transition-colors","profile"===l?"text-store":"text-gray-500"),children:[n.jsx(eY,{className:"h-6 w-6"}),n.jsx("span",{className:"text-xs mt-1",children:"プロフィール"})]})]})})]})}let eQ=eT("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function e0(){let e=(0,ek.useRouter)(),[r,t]=(0,o.useState)([]),[s,a]=(0,o.useState)([]),[l,c]=(0,o.useState)(!0),[d,u]=(0,o.useState)({keyword:"",startDate:"",endDate:"",prefecture:"",city:"",genre:""});(0,o.useEffect)(()=>{p()},[]),(0,o.useEffect)(()=>{m()},[r,d]);let p=async()=>{try{let{data:e,error:r}=await i.O.from("events").select("*").eq("approval_status","approved").order("event_start_date",{ascending:!0});if(r)throw r;t(e||[]),a(e||[])}catch(e){console.error("イベント取得エラー:",e)}finally{c(!1)}},m=()=>{let e=[...r];d.keyword&&(e=e.filter(e=>e.event_name.toLowerCase().includes(d.keyword.toLowerCase())||e.venue_name.toLowerCase().includes(d.keyword.toLowerCase()))),d.startDate&&(e=e.filter(e=>new Date(e.event_start_date)>=new Date(d.startDate))),d.endDate&&(e=e.filter(e=>new Date(e.event_end_date)<=new Date(d.endDate))),d.prefecture&&(e=e.filter(e=>e.venue_address?.includes(d.prefecture))),d.city&&(e=e.filter(e=>e.venue_address?.toLowerCase().includes(d.city.toLowerCase()))),d.genre&&(e=e.filter(e=>e.genre_category?.toLowerCase().includes(d.genre.toLowerCase()))),a(e)},x=(e,r)=>{let t=new Date(e),s=new Date(r),a=`${t.getMonth()+1}/${t.getDate()}`,n=`${s.getMonth()+1}/${s.getDate()}`;return`${a} - ${n}`},g=Object.values(d).some(e=>""!==e);return l?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx("div",{className:"text-gray-600",children:"読み込み中..."})}):(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:(0,n.jsxs)("div",{className:"px-4 py-4",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-800 mb-4",children:"イベント検索"}),n.jsx(ey,{children:(0,n.jsxs)(ew,{className:"pt-4 space-y-3",children:[(0,n.jsxs)("div",{className:"relative",children:[n.jsx(eX,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"イベント名、会場名で検索",value:d.keyword,onChange:e=>u(r=>({...r,keyword:e.target.value})),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("input",{type:"date",value:d.startDate,onChange:e=>u(r=>({...r,startDate:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent"}),n.jsx("input",{type:"date",value:d.endDate,onChange:e=>u(r=>({...r,endDate:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("input",{type:"text",placeholder:"都道府県",value:d.prefecture,onChange:e=>u(r=>({...r,prefecture:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent"}),n.jsx("input",{type:"text",placeholder:"市区町村",value:d.city,onChange:e=>u(r=>({...r,city:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent"})]}),n.jsx("input",{type:"text",placeholder:"ジャンル",value:d.genre,onChange:e=>u(r=>({...r,genre:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-store focus:border-transparent"}),g&&(0,n.jsxs)(eb,{onClick:()=>{u({keyword:"",startDate:"",endDate:"",prefecture:"",city:"",genre:""})},variant:"outline",size:"sm",className:"w-full",children:[n.jsx(eQ,{className:"h-4 w-4 mr-2"}),"フィルターをクリア"]})]})}),(0,n.jsxs)("p",{className:"mt-3 text-sm text-gray-600",children:[s.length,"件のイベントが見つかりました"]})]})}),n.jsx("main",{className:"px-4 py-4",children:0===s.length?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"条件に一致するイベントが見つかりませんでした"})}):n.jsx("div",{className:"space-y-4",children:s.map(r=>n.jsx(eV,{title:r.event_name,date:x(r.event_start_date,r.event_end_date),location:r.venue_name,capacity:r.recruitment_count||void 0,image:r.main_image_url||void 0,status:r.approval_status,accent:"store",onClick:()=>e.push(`/events/${r.id}`)},r.id))})})]})}let e1=eT("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),e2=eT("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),e6=eT("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),e3={business_license_image_url:"営業許可証",vehicle_inspection_image_url:"車検証",automobile_inspection_image_url:"自賠責保険",pl_insurance_image_url:"PL保険",fire_equipment_layout_image_url:"消防設備配置図"};function e4(){let e=(0,ek.useRouter)(),[r,t]=(0,o.useState)(null),[s,a]=(0,o.useState)(!0);(0,o.useEffect)(()=>{l()},[]);let l=async()=>{try{let r=await c();if(!r){e.push("/");return}let{data:s,error:a}=await i.O.from("exhibitors").select("*").eq("user_id",r.id).single();if(a)throw a;t(s)}catch(e){console.error("出店者情報取得エラー:",e)}finally{a(!1)}},u=async()=>{try{await d(),e.push("/")}catch(e){console.error("ログアウトエラー:",e)}};return s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx("div",{className:"text-gray-600",children:"読み込み中..."})}):r?(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-8",children:[n.jsx("header",{className:"bg-white border-b border-gray-200",children:(0,n.jsxs)("div",{className:"px-4 py-4 flex items-center justify-between",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"プロフィール"}),(0,n.jsxs)(eb,{onClick:()=>e.push("/profile/edit"),size:"sm",className:"bg-store hover:bg-store-dark",children:[n.jsx(e1,{className:"h-4 w-4 mr-2"}),"編集"]})]})}),(0,n.jsxs)("main",{className:"px-4 py-4 space-y-4",children:[(0,n.jsxs)(ey,{children:[n.jsx(ev,{children:n.jsx(ej,{children:"基本情報"})}),(0,n.jsxs)(ew,{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"grid grid-cols-[100px_1fr] gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"名前"}),n.jsx("span",{className:"font-medium",children:r.name})]}),(0,n.jsxs)("div",{className:"grid grid-cols-[100px_1fr] gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"性別"}),n.jsx("span",{className:"font-medium",children:r.gender})]}),(0,n.jsxs)("div",{className:"grid grid-cols-[100px_1fr] gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"年齢"}),(0,n.jsxs)("span",{className:"font-medium",children:[r.age,"歳"]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-[100px_1fr] gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"電話番号"}),n.jsx("span",{className:"font-medium",children:r.phone_number})]}),(0,n.jsxs)("div",{className:"grid grid-cols-[100px_1fr] gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"メール"}),n.jsx("span",{className:"font-medium break-all",children:r.email})]})]})]}),(r.genre_category||r.genre_free_text)&&(0,n.jsxs)(ey,{children:[n.jsx(ev,{children:n.jsx(ej,{children:"ジャンル情報"})}),(0,n.jsxs)(ew,{className:"space-y-3",children:[r.genre_category&&(0,n.jsxs)("div",{className:"grid grid-cols-[100px_1fr] gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"カテゴリ"}),n.jsx("span",{className:"font-medium",children:r.genre_category})]}),r.genre_free_text&&(0,n.jsxs)("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-600 block mb-1",children:"詳細"}),n.jsx("p",{className:"font-medium whitespace-pre-wrap",children:r.genre_free_text})]})]})]}),(0,n.jsxs)(ey,{children:[n.jsx(ev,{children:n.jsx(ej,{children:"登録書類"})}),n.jsx(ew,{children:n.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(e3).map(([e,t])=>{let s=r[e];return n.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:s?(0,n.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"block",children:[n.jsx("img",{src:s,alt:t,className:"w-full h-32 object-cover"}),n.jsx("div",{className:"p-2 bg-gray-50 text-xs text-center text-gray-700",children:t})]}):n.jsx("div",{className:"h-32 flex items-center justify-center bg-gray-100",children:n.jsx(e2,{className:"h-8 w-8 text-gray-400"})})},e)})})})]}),(0,n.jsxs)(eb,{onClick:u,variant:"outline",className:"w-full text-red-600 border-red-600 hover:bg-red-50",children:[n.jsx(e6,{className:"h-4 w-4 mr-2"}),"ログアウト"]})]})]}):n.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:n.jsx(ey,{className:"w-full max-w-md",children:(0,n.jsxs)(ew,{className:"pt-6 text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"出店者情報が登録されていません"}),n.jsx(eb,{onClick:()=>e.push("/register"),className:"bg-store hover:bg-store-dark",children:"情報を登録する"})]})})})}function e5(){let e=(0,ek.useRouter)(),[r,t]=(0,o.useState)([]),[s,a]=(0,o.useState)(!0),[l,d]=(0,o.useState)("all");(0,o.useEffect)(()=>{u()},[]);let u=async()=>{try{let r=await c();if(!r){e.push("/");return}let{data:s,error:a}=await i.O.from("exhibitors").select("id").eq("user_id",r.id).single();if(a)throw a;let{data:n,error:o}=await i.O.from("event_applications").select(`
          *,
          events (
            id,
            event_name,
            event_start_date,
            event_end_date,
            venue_name,
            main_image_url
          )
        `).eq("exhibitor_id",s.id).order("applied_at",{ascending:!1});if(o)throw o;t(n||[])}catch(e){console.error("申し込み履歴取得エラー:",e)}finally{a(!1)}},p=e=>{let r=new Date(e);return`${r.getFullYear()}/${r.getMonth()+1}/${r.getDate()}`},m=(e,r)=>{let t=new Date(e),s=new Date(r),a=`${t.getMonth()+1}/${t.getDate()}`,n=`${s.getMonth()+1}/${s.getDate()}`;return`${a} - ${n}`},x="all"===l?r:r.filter(e=>e.application_status===l);return s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx("div",{className:"text-gray-600",children:"読み込み中..."})}):(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:(0,n.jsxs)("div",{className:"px-4 py-4",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-800 mb-4",children:"申し込み履歴"}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[{status:"all",label:"すべて",color:"bg-gray-100 text-gray-800"},{status:"pending",label:"審査中",color:"bg-orange-100 text-orange-800"},{status:"approved",label:"承認済み",color:"bg-green-100 text-green-800"},{status:"rejected",label:"却下",color:"bg-red-100 text-red-800"}].map(e=>n.jsx("button",{onClick:()=>d(e.status),className:eh("px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors",l===e.status?e.color:"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e.label},e.status))})]})}),n.jsx("main",{className:"px-4 py-4",children:0===x.length?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"申し込み履歴がありません"})}):n.jsx("div",{className:"space-y-4",children:x.map(r=>(0,n.jsxs)(ey,{className:"overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>e.push(`/events/${r.event_id}`),children:[r.events.main_image_url&&n.jsx("div",{className:"aspect-video w-full overflow-hidden bg-gray-100",children:n.jsx("img",{src:r.events.main_image_url,alt:r.events.event_name,className:"w-full h-full object-cover"})}),(0,n.jsxs)(ew,{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold leading-snug",children:r.events.event_name}),n.jsx(eW,{status:r.application_status})]}),(0,n.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx(eG,{className:"h-4 w-4"}),n.jsx("span",{children:m(r.events.event_start_date,r.events.event_end_date)})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx(eF,{className:"h-4 w-4"}),n.jsx("span",{children:r.events.venue_name})]})]}),(0,n.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,n.jsxs)("p",{className:"text-xs text-gray-500",children:["申し込み日: ",p(r.applied_at)]}),r.reviewed_at&&(0,n.jsxs)("p",{className:"text-xs text-gray-500",children:["審査日: ",p(r.reviewed_at)]})]})]})]},r.id))})})]})}let e8=eT("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);function e9(){let e=(0,ek.useRouter)(),[r,t]=(0,o.useState)([]),[s,a]=(0,o.useState)(!0),[l,d]=(0,o.useState)(0);(0,o.useEffect)(()=>{u()},[]);let u=async()=>{try{let r=await c();if(!r){e.push("/");return}let{data:s,error:a}=await i.O.from("notifications").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});if(a)throw a;t(s||[]),d(s?.filter(e=>!e.is_read).length||0)}catch(e){console.error("通知取得エラー:",e)}finally{a(!1)}},p=async e=>{try{let{error:r}=await i.O.from("notifications").update({is_read:!0}).eq("id",e);if(r)throw r;t(r=>r.map(r=>r.id===e?{...r,is_read:!0}:r)),d(e=>Math.max(0,e-1))}catch(e){console.error("既読更新エラー:",e)}},m=async()=>{try{let e=await c();if(!e)return;let{error:r}=await i.O.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1);if(r)throw r;t(e=>e.map(e=>({...e,is_read:!0}))),d(0)}catch(e){console.error("一括既読更新エラー:",e)}},x=r=>{r.is_read||p(r.id),r.related_id&&e.push(`/events/${r.related_id}`)},g=e=>{let r=new Date(e),t=new Date().getTime()-r.getTime(),s=Math.floor(t/6e4),a=Math.floor(t/36e5),n=Math.floor(t/864e5);return s<1?"たった今":s<60?`${s}分前`:a<24?`${a}時間前`:n<7?`${n}日前`:`${r.getMonth()+1}/${r.getDate()}`};return s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx("div",{className:"text-gray-600",children:"読み込み中..."})}):(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:n.jsx("div",{className:"px-4 py-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"通知"}),l>0&&n.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center",children:l>9?"9+":l})]}),l>0&&(0,n.jsxs)(eb,{onClick:m,size:"sm",variant:"outline",className:"text-store border-store hover:bg-store hover:text-white",children:[n.jsx(e8,{className:"h-4 w-4 mr-2"}),"すべて既読"]})]})})}),n.jsx("main",{className:"px-4 py-4",children:0===r.length?(0,n.jsxs)("div",{className:"text-center py-12",children:[n.jsx(eZ,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"通知はありません"})]}):n.jsx("div",{className:"space-y-3",children:r.map(e=>n.jsx(ey,{className:eh("cursor-pointer transition-all hover:shadow-md",!e.is_read&&"border-l-4 border-l-store bg-blue-50"),onClick:()=>x(e),children:n.jsx(ew,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:eh("flex-shrink-0 mt-1",e.is_read?"text-gray-400":"text-store"),children:n.jsx(eZ,{className:"h-5 w-5"})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:eh("text-sm font-semibold mb-1",e.is_read?"text-gray-600":"text-gray-900"),children:e.title}),n.jsx("p",{className:eh("text-sm mb-2",e.is_read?"text-gray-500":"text-gray-700"),children:e.message}),n.jsx("p",{className:"text-xs text-gray-400",children:g(e.created_at)})]})]})})},e.id))})})]})}function e7(){let[e,r]=(0,o.useState)(null),[t,s]=(0,o.useState)(null),[a,l]=(0,o.useState)(!0),[d,u]=(0,o.useState)("home");(0,o.useEffect)(()=>{p();let{data:{subscription:e}}=i.O.auth.onAuthStateChange(async(e,t)=>{"SIGNED_OUT"!==e&&t?"SIGNED_IN"===e&&t&&await p():(r(null),s(null))});return()=>{e.unsubscribe()}},[]);let p=async()=>{try{l(!0);let{data:{session:e},error:t}=await i.O.auth.getSession();if(t||!e){r(null),s(null),l(!1);return}let a=await c();if(!a){r(null),s(null),l(!1);return}r(a);let{data:n,error:o}=await i.O.from("exhibitors").select("*").eq("user_id",a.id).single();o&&"PGRST116"!==o.code&&console.error("Error checking exhibitor:",o),s(n||null)}catch(e){console.error("Error checking auth:",e),r(null),s(null)}finally{l(!1)}};if(a)return n.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(e$.Z,{})});if(!e)return n.jsx(eN,{});if(!t)return n.jsx(eO,{});let[m,x]=(0,o.useState)(0);return(0,o.useEffect)(()=>{if(e){let r=async()=>{try{let{data:r,error:t}=await i.O.from("notifications").select("id").eq("user_id",e.id).eq("user_type","exhibitor").eq("is_read",!1);!t&&r&&x(r.length)}catch(e){console.error("Error loading unread count:",e)}};r();let t=setInterval(r,3e4);return()=>clearInterval(t)}},[e]),(0,n.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[(()=>{switch(d){case"home":default:return n.jsx(eK,{});case"search":return n.jsx(e0,{});case"profile":return n.jsx(e4,{});case"applications":return n.jsx(e5,{});case"notifications":return n.jsx(e9,{})}})(),(0,n.jsxs)("div",{style:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"white",borderTop:"1px solid #e0e0e0",display:"flex",justifyContent:"space-around",padding:"8px 0",zIndex:1e3},children:[(0,n.jsxs)("button",{onClick:()=>u("notifications"),style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"8px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:"notifications"===d?"#5DABA8":"#666"},children:[(0,n.jsxs)("div",{style:{position:"relative"},children:[n.jsx("span",{style:{fontSize:"24px"},children:"\uD83D\uDD14"}),m>0&&n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-8px",backgroundColor:"#e74c3c",color:"white",borderRadius:"10px",fontSize:"10px",padding:"2px 6px",minWidth:"18px",textAlign:"center"},children:m>99?"99+":m})]}),n.jsx("span",{style:{fontSize:"12px",marginTop:"4px"},children:"通知"})]}),(0,n.jsxs)("button",{onClick:()=>u("applications"),style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"8px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:"applications"===d?"#5DABA8":"#666"},children:[n.jsx("span",{style:{fontSize:"24px"},children:"\uD83D\uDCCB"}),n.jsx("span",{style:{fontSize:"12px",marginTop:"4px"},children:"履歴"})]}),(0,n.jsxs)("button",{onClick:()=>u("search"),style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"8px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:"search"===d?"#5DABA8":"#666"},children:[n.jsx("span",{style:{fontSize:"24px"},children:"\uD83D\uDD0D"}),n.jsx("span",{style:{fontSize:"12px",marginTop:"4px"},children:"検索"})]}),(0,n.jsxs)("button",{onClick:()=>u("profile"),style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"8px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:"profile"===d?"#5DABA8":"#666"},children:[n.jsx("span",{style:{fontSize:"24px"},children:"\uD83D\uDC64"}),n.jsx("span",{style:{fontSize:"12px",marginTop:"4px"},children:"プロフィール"})]})]})]})}},751:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});let s=(0,t(6843).createProxy)(String.raw`/Users/mocky700/Desktop/デミセル/store/app/page.tsx`),{__esModule:a,$$typeof:n}=s,o=s.default}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,312,247,22],()=>t(2650));module.exports=s})();