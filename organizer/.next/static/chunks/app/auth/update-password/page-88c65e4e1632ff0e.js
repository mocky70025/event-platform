(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[494],{1114:function(e,t,i){Promise.resolve().then(i.bind(i,8643))},8643:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return a}});var n=i(7437),r=i(2265),s=i(5922),o=i(4033);function a(){let[e,t]=(0,r.useState)(""),[i,a]=(0,r.useState)(""),[l,d]=(0,r.useState)(!1),[p,x]=(0,r.useState)(""),[u,c]=(0,r.useState)(""),h=(0,o.useRouter)(),f=(0,o.useSearchParams)();(0,r.useEffect)(()=>{let e=f.get("token"),t=f.get("type");e&&"recovery"===t||x("無効なリンクです。")},[f]);let m=async t=>{if(t.preventDefault(),d(!0),x(""),c(""),e!==i){x("パスワードが一致しません"),d(!1);return}if(e.length<6){x("パスワードは6文字以上で入力してください"),d(!1);return}try{let{error:t}=await s.O.auth.updateUser({password:e});if(t)throw t;c("パスワードを更新しました。ログイン画面に戻ります。"),setTimeout(()=>{h.push("/")},2e3)}catch(e){console.error("Password update error:",e),x(e.message||"パスワードの更新に失敗しました")}finally{d(!1)}};return(0,n.jsx)("div",{style:{background:"#F7F7F7",minHeight:"100vh"},children:(0,n.jsxs)("div",{className:"container mx-auto",style:{padding:"9px 16px",maxWidth:"394px"},children:[(0,n.jsx)("div",{style:{paddingTop:"24px",marginBottom:"24px"},children:(0,n.jsx)("h1",{style:{fontFamily:"Inter, sans-serif",fontSize:"20px",fontWeight:700,lineHeight:"120%",color:"#000000",marginBottom:"24px"},children:"新しいパスワードを設定"})}),(0,n.jsx)("div",{style:{background:"#FFFFFF",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)",borderRadius:"12px",padding:"24px",marginBottom:"24px"},children:u?(0,n.jsx)("div",{style:{padding:"16px",background:"#E6F7ED",borderRadius:"8px",marginBottom:"16px"},children:(0,n.jsx)("p",{style:{fontFamily:"Inter, sans-serif",fontSize:"14px",lineHeight:"150%",color:"#FF8A5C"},children:u})}):(0,n.jsxs)(n.Fragment,{children:[p&&(0,n.jsx)("div",{style:{padding:"12px",background:"#FFEBEE",borderRadius:"8px",marginBottom:"16px"},children:(0,n.jsx)("p",{style:{fontFamily:"Inter, sans-serif",fontSize:"14px",color:"#C62828"},children:p})}),(0,n.jsxs)("form",{onSubmit:m,children:[(0,n.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,n.jsx)("label",{style:{fontFamily:"Inter, sans-serif",fontSize:"14px",fontWeight:500,lineHeight:"120%",color:"#000000",marginBottom:"8px",display:"block"},children:"新しいパスワード（6文字以上）"}),(0,n.jsx)("input",{type:"password",value:e,onChange:e=>t(e.target.value),required:!0,minLength:6,style:{width:"100%",padding:"12px 16px",border:"1px solid #E5E5E5",borderRadius:"8px",fontFamily:"Inter, sans-serif",fontSize:"16px",boxSizing:"border-box"},placeholder:"新しいパスワードを入力"})]}),(0,n.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,n.jsx)("label",{style:{fontFamily:"Inter, sans-serif",fontSize:"14px",fontWeight:500,lineHeight:"120%",color:"#000000",marginBottom:"8px",display:"block"},children:"パスワード（確認）"}),(0,n.jsx)("input",{type:"password",value:i,onChange:e=>a(e.target.value),required:!0,minLength:6,style:{width:"100%",padding:"12px 16px",border:"1px solid #E5E5E5",borderRadius:"8px",fontFamily:"Inter, sans-serif",fontSize:"16px",boxSizing:"border-box"},placeholder:"パスワードを再入力"})]}),(0,n.jsx)("button",{type:"submit",disabled:l,style:{width:"100%",padding:"16px 24px",background:l?"#CCCCCC":"#FF8A5C",borderRadius:"8px",border:"none",fontFamily:"Inter, sans-serif",fontSize:"16px",fontWeight:700,color:"#FFFFFF",cursor:l?"not-allowed":"pointer"},children:l?"更新中...":"パスワードを更新"})]})]})})]})})}},5922:function(e,t,i){"use strict";i.d(t,{O:function(){return o}});var n=i(9073);let r="https://ybrsltkmllokexwyutik.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlicnNsdGttbGxva2V4d3l1dGlrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcxMjU5MDMsImV4cCI6MjA4MjcwMTkwM30.s3Y2qgbtCqrG2kuNXZk8hz3cEjCEWmPMC1zNU2mMHZ8";if(!r||!s)throw Error("Missing Supabase environment variables");let o=(0,n.eI)(r,s,{auth:{persistSession:!0,autoRefreshToken:!0}})}},function(e){e.O(0,[534,971,938,744],function(){return e(e.s=1114)}),_N_E=e.O()}]);